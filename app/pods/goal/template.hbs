<div class="task-section-header">
  {{#unless filesPanelIsVisible}}
    <button type="button" style="float: right;" onclick={{action 'openFilesPanel'}}>Files</button>
  {{/unless}}

  <span class="task-section-header-title">
    {{model.name}}
  </span>

  {{tasks-bar
    model=model
    tasks=tasks
    action=(route-action 'reorderTasks')
  }}
</div>

{{outlet}}

{{#if filesPanelIsVisible}}
  <div class="files-panel">
    <button type="button" onclick={{action 'closeFilesPanel'}}>Close</button>

    <h1>Show me the files</h1>

    {{#pl-uploader
      for="upload-file"
      name="panel-right-file-uploader"
      multipart=true
      multiple=true
      runtimes="html5"
      no-duplicates=true
      unique-names=true
      onInitOfUploader="onInitOfUploader"
      onfileadd="uploadImage" as |queue dropzone|
    }}
      <div class="dropzone" id={{dropzone.id}}>
        {{#if dropzone.active}}
          {{#if dropzone.valid}}
            Drop to upload
          {{else}}
            Invalid
          {{/if}}
        {{else if queue.length}}
          Uploading {{queue.length}} files. ({{queue.progress}}%)
        {{else}}
          <h4>Upload Images</h4>
          <p>
            {{#if dropzone.enabled}}
              Drag and drop images onto this area to upload them or
            {{/if}}
            <a id="upload-file">Add an Image.</a>
          </p>
        {{/if}}
      </div>
    {{/pl-uploader}}
  </div>
{{/if}}
